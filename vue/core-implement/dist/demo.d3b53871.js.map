{"version":3,"sources":["../src/util.js","../src/scheduler.js","../src/proxy.js","../src/watcher.js","../src/dep.js","../src/vnode.js","../src/index.js","demo.js","../node_modules/_parcel-bundler@1.12.4@parcel-bundler/src/builtins/hmr-runtime.js"],"names":["nextTick","pending","callbacks","execute","nextTickHandler","copies","slice","length","forEach","cb","p","Promise","resolve","then","ctx","push","call","err","console","log","queueWatchers","toWatcher","Map","queueWatcher","watcher","has","id","set","flushScheduleQueue","sort","a","b","run","resetSchedulerQueue","clear","_watcher","isObject","target","setWatcher","clearWatcher","createProxy","vueInstance","collect","key","$watch","update","bind","createHandler","path","get","fullPath","result","Proxy","value","oldValue","notify","deleteProperty","data","$data","props","_props","$options","methods","computed","handler","_proxy","index","genWatchId","Watcher","vm","ComputedWatcher","fn","Dep","subs","sub","splice","findIndex","v","params","vnode","tag","children","componentOptions","componentInstance","Vue","options","initProps","initData","_deps","initWatch","propsOptions","propsData","watch","error","addSub","root","$el","mounted","parent","parentElement","render","createElement","oldEl","patch","_vnode","replaceChild","components","oldVnode","createDom","Object","assign","$mount","el","document","__vue__","attrs","class","classname","on","events","setAttribute","addEventListener","Array","isArray","child","appendChild","createTextNode","window","vue","count","test","addCount","h","click","getElementById","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some"],"mappings":"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","file":"demo.d3b53871.js","sourceRoot":"../demo","sourcesContent":["/**\n * @Author: huangw1\n * @Date: 2019-11-22 11:30\n */\n\nexport const nextTick = (() => {\n    let pending = false;\n    const callbacks = [];\n    let execute;\n\n    const nextTickHandler = () => {\n        pending = false;\n        const copies = callbacks.slice(0);\n        callbacks.length = 0;\n        copies.forEach(cb => cb());\n    };\n\n    const p = Promise.resolve();\n    execute = () => {\n        p.then(nextTickHandler);\n    };\n\n    return (cb, ctx) => {\n        callbacks.push(() => {\n            try {\n                ctx ? cb.call(ctx) : cb();\n            } catch (err) {\n                console.log('nextTick', err);\n            }\n        });\n        if (!pending) {\n            pending = true;\n            execute()\n        }\n    }\n})();\n","/**\n * @Author: huangw1\n * @Date: 2019-11-22 11:38\n */\nimport {nextTick} from \"./util\";\n\nconst queueWatchers = [];\nconst toWatcher = new Map();\n\nexport function queueWatcher(watcher) {\n    if (!toWatcher.has(watcher.id)) {\n        toWatcher.set(watcher.id, watcher);\n        queueWatchers.push(watcher);\n        nextTick(flushScheduleQueue);\n    }\n}\n\nfunction flushScheduleQueue () {\n    // 父级先执行\n    queueWatchers.sort((a, b) => a.id - b.id);\n    queueWatchers.forEach(watcher => watcher.run());\n    resetSchedulerQueue();\n}\n\nfunction resetSchedulerQueue() {\n    queueWatchers.length = 0;\n    toWatcher.clear();\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-22 12:16\n */\n\nlet _watcher = null;\nconst isObject = (target) => typeof target === 'object';\n\nexport function setWatcher (watcher) {\n    _watcher = watcher;\n}\n\nexport function clearWatcher () {\n    _watcher = null;\n}\n\nexport function createProxy (vueInstance) {\n    function collect (key) {\n        if (_watcher) {\n            _watcher.$watch(key, _watcher.update.bind(_watcher));\n        }\n    }\n\n    const createHandler = path => {\n        return {\n            get (target, key) {\n                const fullPath = path ? `${path}.${key}` : key;\n                collect(fullPath);\n\n                const result = target[key];\n                if (isObject(result)) {\n                    return new Proxy(result, createHandler(fullPath));\n                }\n\n                return result;\n            },\n\n            set (target, key, value) {\n                const fullPath = path ? `${path}.${key}` : key;\n                const oldValue = target[key];\n\n                target[key] = value;\n                vueInstance.notify(fullPath, value, oldValue);\n\n                return true;\n            },\n\n            deleteProperty(target, key) {\n                const value = target[key];\n                delete target[key];\n                const fullPath = path ? `${path}.${key}` : key;\n\n                if (key in target) {\n                    vueInstance.notify(fullPath, value);\n                }\n\n                return true;\n            }\n        }\n    };\n\n    const data = vueInstance.$data;\n    const props = vueInstance._props;\n    const {methods = {}, computed = {}} = vueInstance.$options;\n\n    const handler = {\n        get (target, key) {\n            if (key in props) {\n                return createHandler().get(props, key)\n            } else if (key in data) {\n                return createHandler().get(data, key)\n            } else if (key in computed) {\n                return computed[key].call(vueInstance._proxy)\n            } else if (key in methods) {\n                return methods[key].bind(vueInstance._proxy);\n            }\n\n            return target[key];\n        },\n\n        set (target, key, value) {\n            if (key in props) {\n                return createHandler().set(props, key, value);\n            } else if (key in data) {\n                return createHandler().set(data, key, value);\n            }\n\n            target[key] = value;\n            return true;\n        }\n    };\n\n    return new Proxy(vueInstance, handler);\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-22 11:22\n */\nimport {queueWatcher} from \"./scheduler\";\nimport {clearWatcher, setWatcher} from \"./proxy\";\n\nlet index = 0;\nexport function genWatchId() {\n    return index++\n}\n\nexport class Watcher {\n    constructor (vm, key, cb) {\n        this.vm = vm;\n        this.key = key;\n        this.cb = cb;\n        this.id = genWatchId()\n    }\n\n    update (value, oldValue) {\n        this.value = value;\n        this.oldValue = oldValue;\n        queueWatcher(this);\n    }\n\n    run () {\n        this.cb.call(this.vm, this.value, this.oldValue);\n    }\n}\n\nexport class ComputedWatcher {\n    constructor (vm, fn, cb) {\n        this.vm = vm;\n        this.fn = fn;\n        this.cb = cb;\n        this.id = genWatchId();\n\n        setWatcher(this);\n        this.value = this.get();\n        clearWatcher();\n    }\n\n    get () {\n        this.fn.call(this.vm);\n    }\n\n    update () {\n        queueWatcher(this);\n    }\n\n    run () {\n        const oldValue = this.value;\n        const value = this.get();\n        this.value = value;\n        this.cb.call(this.vm, value, oldValue);\n    }\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-22 13:16\n */\n\nexport default class Dep {\n    constructor () {\n        this.subs = [];\n    }\n\n    addSub (sub) {\n        this.subs.push(sub);\n    }\n\n    removeSub (sub) {\n        this.subs.splice(this.subs.findIndex(v => v === sub), 1);\n    }\n\n    notify (...params) {\n        this.subs.forEach(sub => sub.update(...params));\n    }\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-22 10:41\n */\n\nexport default function vnode(tag, data, children, componentOptions, componentInstance) {\n    this.tag = tag;\n    this.data = data;\n    this.children = children;\n    this.componentOptions = componentOptions;\n    this.componentInstance = componentInstance;\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-23 10:10\n */\nimport {ComputedWatcher, genWatchId, Watcher} from \"./watcher\";\nimport {clearWatcher, createProxy, setWatcher} from \"./proxy\";\nimport Dep from \"./dep\";\nimport {queueWatcher} from \"./scheduler\";\nimport {nextTick} from \"./util\";\nimport vnode from \"./vnode\";\n\nexport default class Vue {\n    constructor (options) {\n        this.$options = options;\n        this.id = genWatchId();\n\n        this.initProps();\n        this.initData();\n        this._proxy = createProxy(this);\n\n        this._deps = {};\n        this.initWatch();\n\n        return this._proxy;\n    }\n\n    initProps () {\n        this._props = {};\n        const {props: propsOptions, propsData} = this.$options;\n        if (propsOptions && propsOptions.length) {\n            propsOptions.forEach(key => {\n                this._props[key] = propsData[key];\n            })\n        }\n    }\n\n    initData () {\n        this.$data = this.$options.data ? this.$options.data() : {}\n    }\n\n    initWatch () {\n        const {watch = {}, computed = {}} = this.$options;\n        const data = this.$data;\n\n        for (let key in watch) {\n            const cb = watch[key];\n            if (key in data) {\n                this.$watch(key, cb);\n            } else if (key in computed) {\n                new ComputedWatcher(this._proxy, computed[key], cb);\n            } else {\n                console.error(`${key} does not exist in vue`);\n            }\n        }\n    }\n\n    $nextTick (cb) {\n        nextTick(cb, this._proxy)\n    }\n\n    $watch (key, cb) {\n        if (!this._deps[key]) {\n            this._deps[key] = new Dep();\n        }\n        this._deps[key].addSub(new Watcher(this._proxy, key, cb));\n    }\n\n    update () {\n        this.run();\n    }\n\n    notify (key, value, oldValue) {\n        if (this._deps[key]) {\n            this._deps[key].notify(value, oldValue);\n        }\n    }\n\n    $mount (root) {\n        this.$el = root;\n\n        setWatcher(this);\n        this.run();\n        clearWatcher();\n\n        const {mounted} = this.$options;\n        mounted && mounted.call(this._proxy);\n\n        return this;\n    }\n\n    run () {\n        const parent = this.$el && this.$el.parentElement;\n        const vnode = this.$options.render.call(this._proxy, this.createElement.bind(this));\n        const oldEl = this.$el;\n\n        this.$el = this.patch(this._vnode, vnode);\n        this._vnode = vnode;\n\n        if (parent) {\n            parent.replaceChild(this.$el, oldEl);\n        }\n    }\n\n    createElement (tag, data, children) {\n        const {components = {}} = this.$options;\n\n        if (tag in components) {\n            return new vnode(tag, data, children, components[tag]);\n        } else {\n            return new vnode(tag, data, children);\n        }\n    }\n\n    patch (oldVnode, vnode) {\n        return this.createDom(vnode)\n    }\n\n    createDom (vnode) {\n        if (vnode.componentOptions) {\n            const componentInstance = new Vue(Object.assign({}, vnode.componentOptions, {propsData: vnode.data.props}));\n            vnode.componentInstance = componentInstance;\n            componentInstance.$mount();\n            return componentInstance.$el;\n        }\n\n        const el = document.createElement(vnode.tag);\n        el.__vue__ = this;\n\n        let {data = {}, children} = vnode;\n        const {attrs = {}, class: classname  = '', on: events = {}} = data;\n\n        for (let key in attrs) {\n            el.setAttribute(key, attrs[key]);\n        }\n\n        if (classname) {\n            el.setAttribute('class', classname);\n        }\n\n        for (let key in events) {\n            el.addEventListener(key, events[key])\n        }\n\n        if (!Array.isArray(children)) {\n            children = [children]\n        }\n        children.forEach(child => {\n            if (typeof child !== 'object') {\n                el.appendChild(document.createTextNode(child));\n            } else {\n                el.appendChild(this.createDom(child));\n            }\n        });\n\n        return el;\n    }\n}\n","/**\n * @Author: huangw1\n * @Date: 2019-11-23 14:20\n */\nimport Vue from \"../src\";\n\nwindow.vue = new Vue({\n    data () {\n        return {\n            count: 0,\n            test: 'test'\n        }\n    },\n\n    methods: {\n      addCount () {\n          this.count++;\n          this.test = 'click'\n      }\n    },\n\n    render (h) {\n        return h('div', {\n            on: {\n                click: this.addCount\n            }\n        }, `${this.test} -> ` + this.count);\n    }\n}).$mount(document.getElementById('app'));\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}